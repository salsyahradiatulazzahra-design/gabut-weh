<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Gabut</title>

<style>
* { box-sizing: border-box; }
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #ff9ad5, #ffb6e6);
  color: #fff;
  text-align: center;
  margin: 0;
  overflow-x: hidden;
}
html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
}
/* START & PART CENTER */
.part {
  display: none;
  position: fixed;   
  inset: 0;          
  padding-top: 80px;
}
button {
  padding: 12px 26px;
  border: none;
  border-radius: 25px;
  background: #fb73c0;
  color: white;
  font-size: 16px;
  cursor: pointer;
  margin-top: 12px;
  min-width: 140px;
  max-width: 260px;
}

button.secondary { background: #fb73c0; }
button.ghost { background: transparent; border: 2px solid #9aeaf6;  }

#start {
  display: flex; flex-direction: column; justify-content: center; height: 100%;
}

input {
  padding: 12px;
  border-radius: 20px;
  border: none;
  font-size: 16px;
  text-align: center;
  margin: 10px auto;
  width: 80%;
  max-width: 260px;
}

/* typing */
.typing {
  font-size: clamp(16px, 4.5vw, 22px);
  width: 90%;
}
/* image animation */
#finalImage {
  width: 260px;
  opacity: 0;
  transform: scale(0.7);
  animation: fadeZoom 2s forwards;
}

#valentineScreen {
        display: none;
    }

    h1 {
        margin-top: 50px;
        font-size: clamp(16px, 4.5vw, 22px);
        text-shadow: 0 0 30px #fc0505;
    }
@keyframes fadeZoom {
  to { opacity: 1; transform: scale(1); }
}

/* fireworks */
.firework {
  position: fixed;
  width: 6px; height: 6px;
  background: hsl(var(--h),100%,60%);
  border-radius: 50%;
  animation: boom 1.5s linear forwards;
}
@keyframes boom {
  100% {
    transform: translate(
      calc(-120px + 240px * var(--x)),
      calc(-120px + 240px * var(--y))
    );
    opacity: 0;
  }
}

/* overlay secret */
#secretBox {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.6);
  display: none; align-items: center; justify-content: center;
}
#secretCard {
  background: #f942d1;
  box-shadow: 0 0 30px rgba(252, 253, 251, 0.947);
  padding: 24px; border-radius: 16px;
  max-width: 300px;
}

.spark {
  position: fixed;
  width: 4px;
  height: 4px;
  background: rgba(255,255,255,0.9);
  border-radius: 50%;
  box-shadow: 0 0 8px white;
  animation: floatSpark 4s linear forwards;
}

@keyframes floatSpark {
  0% {
    transform: translateY(0) scale(0.6);
    opacity: 0;
  }
  20% { opacity: 1; }
  100% {
    transform: translateY(-120px) scale(1);
    opacity: 0;
  }
}

/* ===== LOVE SPARK ===== */
.love {
  position: fixed;
  font-size: 16px;
  animation: floatLove 4s linear forwards;
  pointer-events: none;
}

@keyframes floatLove {
  0% {
    transform: translateY(0) scale(0.5);
    opacity: 0;
  }
  20% { opacity: 1; }
  100% {
    transform: translateY(-160px) scale(1.2);
    opacity: 0;
  }
}

/* ===== FLOWER PETAL ===== */
.petal {
  position: fixed;
  width: 14px;
  height: 14px;
  background: pink;
  border-radius: 0 50% 0 50%;
  opacity: 0.8;
  animation: fallPetal 6s linear forwards;
  pointer-events: none;
}

@keyframes fallPetal {
  0% {
    transform: translateY(-20px) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

@media (max-width: 600px) {
  h1 {
  font-size: clamp(24px, 6vw, 40px);
}
  p {
    font-size: 14px;
  }

 button {
  font-size: clamp(16px, 4vw, 20px);
}
}

.music-img {
  width: 220px;
  margin-top: 20px;
  opacity: 0;
  transform: scale(0.7);
  transition: all 0.8s ease;
  pointer-events: none;
}

.music-img.show {
  opacity: 1;
  transform: scale(1);
}
</style>
</head>

<body>

<!-- START -->
<div id="start">
  <h1>ğŸ’Aallooww BabeğŸ’</h1>
  <p>Masukan nama kamu bebe</p>
  <input id="nameInput" placeholder="Nama kamu...">
  <button onclick="startApp()">Masuk</button>
</div>

<!-- PART 1: MUSIC -->
<div id="part1" class="part">
  <h1>Hai <span id="nama"></span> ğŸ«µğŸ¼</h1>

  <img 
    id="musicImg"
    src="music.png"
    style="
      width:220px;
      margin:20px auto;
      display:none;
      animation: fadeZoom 1.5s forwards;
    "
  >
  <button onclick="toggleMusic()">Music</button>
  <button class="secondary" id="secretBtn" onclick="playSecret()">SecretğŸ¤«</button><br>
  <button onclick="nextPart(2)">Next</button>
</div>
<!-- PART 2: MESSAGE (typing) -->
<div id="part2" class="part">
  <h1>Kata kata hari ini qaqaağŸ˜˜</h1>
  <p id="typingText" class="typing"></p>
  <button onclick="nextPart(3)">Next</button>
</div>

<!-- PART 3: IMAGE + FIREWORK -->
<div id="part3" class="part">
  <h1>"Munduran dikit, manisnya kelewatanğŸ«¦"</h1>
  <img id="finalImage" src="kiw.jpeg">
</div>

<!-- SECRET OVERLAY -->
<div id="secretBox">
  <div id="secretCard">
    <h3>Sesuatu buat kamuğŸ¤«</h3>
    <img id="finalImage" src="meme.jpg">
    <p>ciee dapet golden tiket, congratss yaawwğŸ¥³ğŸ‰ğŸ‘ #iziinnğŸ™#minat    
       #in engineering we trustğŸ‘‰ğŸ»ğŸ˜œğŸ‘ˆğŸ» BECANDAAA!!!</p>
    <button class="ghost" onclick="closeSecret()">Tutup</button>
  </div>
</div>

<audio id="music"></audio>

<script>
const music = document.getElementById('music');
const musicImg = document.getElementById('musicImg');
let secretUsed = false;

/* fullscreen (mobile) */
function goFullscreen(){
  const el = document.documentElement;
  if (el.requestFullscreen) el.requestFullscreen().catch(()=>{});
}

/* start */
function startApp(){
  const nama = nameInput.value.trim();
  if(!nama) return alert('Isi nama dulu â¤ï¸');
  document.getElementById('nama').innerText = nama;
  start.style.display='none';
  part1.style.display='block';
goFullscreen();
currentSong = "none";
startSpark();
}

function toggleMusic(){
const musicImg = document.getElementById('musicImg');

function toggleMusic(){

  // tampilkan gambar
  musicImg.style.display = 'block';

  // pertama kali
  if(currentSong === "none"){
    music.src = "beginagain.mp4";
    music.play();
    currentSong = "main";
    return;
  }

  // dari secret balik ke utama
  if(currentSong === "secret"){
    music.src = "beginagain.mp4";
    music.play();
    currentSong = "main";
    return;
  }

  // play / pause
  if(currentSong === "main"){
    music.paused ? music.play() : music.pause();
  }
}
  // play / pause
  if(currentSong === "main"){
    music.paused ? music.play() : music.pause();
  }
}

/* secret: only once */
function playSecret(){
  if(secretUsed) return;
  secretUsed = true;
  music.src='allhamdulilah.mp4';
  music.play();
  currentSong = "secret";
  document.getElementById('secretBox').style.display='flex';
  document.getElementById('secretBtn').disabled = true;
  document.getElementById('secretBtn').style.opacity = .6;
}

/* close secret */
function closeSecret(){
  secretBox.style.display='none';
}

/* next */
function nextPart(n){
  document.querySelectorAll('.part').forEach(p=>p.style.display='none');
  document.getElementById('part'+n).style.display='block';

  // part 1 & 2 rame
  if(n === 1 || n === 2){
    startEffects();
  } else {
    stopEffects();
  }

  if(n === 2) typeText();
  if(n === 3) fireworks();
}

/* typing effect */
function typeText(){
  const text = "Contohlah tukang parkir meskipun punya banyak mobil\nia tak pernah sombong karena tahu itu semua hanya titipan\nikan kembung buah kelapa maaf ngga nyambung katanya ngga papağŸ¤™ğŸ˜";
  const el = document.getElementById('typingText');
  el.innerHTML = '';
  let i=0;
  const t = setInterval(()=>{
    el.innerHTML += text[i]==='\n' ? '<br>' : text[i];
    i++;
    if(i>=text.length) clearInterval(t);
  },50);
}

/* fireworks colorful */
function fireworks(){
  setInterval(()=>{
    for(let i=0;i<22;i++){
      const f=document.createElement('div');
      f.className='firework';
      f.style.left=Math.random()*innerWidth+'px';
      f.style.top=Math.random()*innerHeight+'px';
      f.style.setProperty('--x',Math.random());
      f.style.setProperty('--y',Math.random());
      f.style.setProperty('--h',Math.random()*360);
      document.body.appendChild(f);
      setTimeout(()=>f.remove(),1500);
    }
  },900);
}

let sparkInterval;

/* START SPARK */
function startSpark(){
  stopSpark(); // jaga-jaga
  sparkInterval = setInterval(()=>{
    const s = document.createElement('div');
    s.className = 'spark';
    s.style.left = Math.random()*window.innerWidth + 'px';
    s.style.bottom = '-10px';
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),4000);
  }, 200);
}

/* STOP SPARK */
function stopSpark(){
  clearInterval(sparkInterval);
}

let loveInterval, petalInterval;

/* START RAMÃ‰ */
function startEffects(){
  stopEffects();

  // LOVE SPARK
  loveInterval = setInterval(()=>{
    const l = document.createElement('div');
    l.className = 'love';
    l.innerHTML = 'â¤ï¸';
    l.style.left = Math.random() * innerWidth + 'px';
    l.style.bottom = '-20px';
    document.body.appendChild(l);
    setTimeout(()=>l.remove(),4000);
  }, 250);

  // FLOWER PETAL
  petalInterval = setInterval(()=>{
    const p = document.createElement('div');
    p.className = 'petal';
    p.style.left = Math.random() * innerWidth + 'px';
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),6000);
  }, 400);
}

/* STOP RAMÃ‰ */
function stopEffects(){
  clearInterval(loveInterval);
  clearInterval(petalInterval);
}

</script>

</body>
</html>

